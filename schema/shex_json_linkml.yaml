id: go-shex-domain-range-constraints
name: GODomainRangeConstraintsModel
description: a schema for the domain and range exchange format for the GO shape expressions
license: https://creativecommons.org/publicdomain/zero/1.0/
version: 0.1.0

default_prefix: GO
default_range: string

imports:
  - linkml:types

default_curi_maps:
  - obo_context
  - idot_context
  - monarch_context
  - semweb_context

prefixes:
  biolink: https://w3id.org/biolink/vocab/
  linkml: https://w3id.org/linkml/

classes:
  GoShape:
    description: >-
      GO domain/range constraint shape is defined as the domain, relationship, and range of a GO shape 
      expression rule
    slots:
      - domain_name
      - relationships
    close_mappings:
     - schema:Thing
    slot_usage:
        name:
          notes: >-
            This is the name of the rule, from the shex rules in JSON format, this can be a GO identifier. 

  Relationship:
    description: >-
      A relationship object holds the relationship (Relationship.id) between a GoShape.domain (subject) and the Relatioship.range (object), 
      the range of the relationship (what values can be provided in the object of a statement), whether or not the 
      object can be multivalued, if the object is required when used with a particular domain and what context the 
      relationship should be used for.
    slots:
      - id
      - range
      - is_multivalued
      - is_required
      - context
    close_mappings:
     - schema:Relationship

  Collection:
    tree_root: true
    slots:
      - goshapes
    description: >-
      A collection of GO domain/range constraint shapes.  This is primarily used in this schema to allow several 
      test data objects to be submitted in a single file. 

slots:
  relationships:
    multivalued: true
    range: Relationship
    required: true
    description: >-
      A list of relationships that are defined for a particular domain

  range:
    multivalued: true
    range: uriorcurie
    required: true
    description: >-
      The range of the relationship identified by the Relationship.id parameter
      (This contains the values can be provided in the object of a statement)

  id:
    range: string
    description: >-
      The relationship id is the predicate of the relationship between the domain and 
      range of the GO shape expression rule.

  domain_name:
    range: uriorcurie
    required: true
    description: >-
      The domain of the GO shape expression rule, this is the subject of the relationship.

  is_multivalued:
    range: boolean
    required: true
    description: >-
      for this shape, the relationship in question supports multiple values in the object of the association.

  goshapes:
    multivalued: true
    range: GoShape
    description: >-
      A collectionm of GO domain/range constraint shapes where a GO domain/range constraint shape 
      is defined as the domain, relationship, and range of a GO shape expression rule.

  is_required:
    range: boolean
    required: true

  context:
    range: string
    description: >-
      used to determine if this shape is used in the the visual pathway editor or the graphical editor.  Those shapes
      annotated with like this https://github.com/geneontology/go-shapes/pull/285/files will be exlcuded from the
      visual pathway editor but still included in the file so this file can be used in the graphical editor as well.
    required: true
